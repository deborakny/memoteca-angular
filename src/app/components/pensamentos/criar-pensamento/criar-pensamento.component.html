<section class="container criar-pensamentos ff-inter">
    <header class="header">
        <h2>Adicione um <br>pensamento:</h2>
    </header>
    <form [formGroup]="formulario">
        <!--Property binding unidirecional (do component ao template)-->
        <!--Associar o atributo 'pensamento' aos inputs-->
        <!--O input possui uma propriedade chamada value (Ex.: value="pensamento.conteudo")
        Dessa forma, o angular irá renderizar no campo a string "pensamento.conteudo",
        de forma literal. Para que o angular associe o value ao atributo no component, usa-se
        os '[]' (Ex.: [value]="pensamento.conteudo")-->

        <!--Two-way Data Binding-->
        <!--Ao invés de [value], usar o [(ngModel)], que é uma diretiva de atributo, que
        permite modificar os elementos-->
        <!--Essa diretiva faz parte do FormsModule. Importar no arquivo app.module.ts-->
        <!--Dessa forma, ao alterar o template, o component também é alterado,
        logo, ao mudar os inputs, a prévia é alterada simultaneamente-->
        <label for="pensamento">Pensamento</label>
        <input 
        type="textarea" 
        class="input" 
        id="pensamento" 
        formControlName="conteudo" 
        placeholder="Insira o pensamento"
        > <!--Não precisa do [(ngModel)] pois o formulário reativo já cumpre sua função-->

        <div class="mensagem__erro" *ngIf="formulario.get('conteudo')?.errors && formulario.get('counteudo')?.touched">
            Este campo é obrigatório
        </div>

        <label for="autoria">Autoria ou fonte</label>
        <input 
        type="text" 
        class="input" 
        id="autoria" 
        formControlName="autoria" 
        placeholder="Autoria ou fonte"
        >

        <div class="mensagem__erro" *ngIf="formulario.get('autoria')?.errors?.['required']
        && formulario.get('autoria')?.touched">
            Este campo é obrigatório
        </div>

        <div class="mensagem__erro" *ngIf="formulario.get('autoria')?.errors?.['minlength']
        && formulario.get('autoria')?.touched">
            Deve ter no mínimo 3 caracteres
        </div>

        <label for="modelo">Selecione o modelo do card:</label>
        <div class="container-radio">
            <div class="radio-modelo">
                <label for="modelo1">
                    <input 
                    type="radio"
                    id="modelo1"
                    value="modelo1"
                    formControlName="modelo"
                    >
                    <div class="custom-radio">
                        <span></span>
                    </div>
                    <span>Modelo 1</span>

                </label>
                Prévia:
                <div class="modelo modelo1 ff-roboto-mono">
                    <img src="../../../../assets/Img/modelo1.png" alt="Aspas azuis">
                    <p class="conteudo">{{ formulario.get('conteudo')?.value}}</p>
                    <p class="autoria"><b>{{ formulario.get('autoria')?.value }}</b></p>
                </div>
            </div>
            <div class="radio-modelo">
                <label for="modelo2">
                    <input 
                    type="radio"
                    id="modelo2"
                    value="modelo2"
                    formControlName="modelo"
                    >
                    <div class="custom-radio">
                        <span></span>
                    </div>
                    <span>Modelo 2</span>
                </label>
                Prévia:
                <div class="modelo modelo2 ff-roboto-mono">
                    <img src="../../../../assets/Img/modelo2.png" alt="Aspas azuis claro">
                    <p class="conteudo">{{ formulario.get('conteudo')?.value }}</p>
                    <p class="autoria"><b>{{ formulario.get('autoria')?.value }}</b></p>
                </div>
            </div>
            <div class="radio-modelo">
                <label for="modelo3">
                    <input 
                    type="radio"
                    id="modelo3"
                    value="modelo3"
                    formControlName="modelo"
                    >
                    <div class="custom-radio">
                        <span></span>
                    </div>
                    <span>Modelo 3</span>
                </label>
                Prévia:
                <div class="modelo modelo3 ff-roboto-mono">
                    <img src="../../../../assets/Img/modelo3.png" alt="Aspas verdes">
                    <!--Property bindging com a tag p-->
                    <p class="conteudo">{{ formulario.get('conteudo')?.value }}</p>
                    <p class="autoria"><b>{{ formulario.get('autoria')?.value }}</b></p>
                </div>
            </div>
        </div>
        <div class="acoes">
            <!--Event binding (click) - unidirecional - do template ao component-->
            <!--Atribuir a propriedade disable à propriedade valid-->
            <button
            [disabled]="!formulario.valid" 
            (click)="criarPensamento()"
            [ngClass]="habilitarBotao()">Salvar</button> 
            <button routerLink="/listar-pensamento" class="botao">Cancelar</button>
        </div>
    </form>
</section>
